var parse = require('tailwindcss/src/value-parser/parse')
var walk = require('tailwindcss/src/value-parser/walk')
var stringify = require('tailwindcss/src/value-parser/stringify')

function ValueParser(value) {
  if (this instanceof ValueParser) {
    this.nodes = parse(value)
    return this
  }
  return new ValueParser(value)
}

ValueParser.prototype.toString = function () {
  return Array.isArray(this.nodes) ? stringify(this.nodes) : ''
}

ValueParser.prototype.walk = function (cb, bubble) {
  walk(this.nodes, cb, bubble)
  return this
}

ValueParser.unit = require('tailwindcss/src/value-parser/unit')

ValueParser.walk = walk

ValueParser.stringify = stringify

module.exports = ValueParser
