
import {nextToken, skipLineComment} from "sucrase/dist/esm/parser/tokenizer";
import {charCodes} from "sucrase/dist/esm/parser/util/charcodes";
import {input, state} from "sucrase/dist/esm/parser/traverser/base";
import {parseTopLevel} from "sucrase/dist/esm/parser/traverser/statement";

export function parseFile() {
  // If enabled, skip leading hashbang line.
  if (
    state.pos === 0 &&
    input.charCodeAt(0) === charCodes.numberSign &&
    input.charCodeAt(1) === charCodes.exclamationMark
  ) {
    skipLineComment(2);
  }
  nextToken();
  return parseTopLevel();
}
